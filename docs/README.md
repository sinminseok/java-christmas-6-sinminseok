# 배달의 민족 크리스마스 프로모션 프로젝트

## 비지니스팀에게

보낸 사람: 개발팀 \<`dev@woowacourse.io`\>
받는 사람: 비즈니스팀 \<`biz@woowacourse.io`\>

제목: 12월 이벤트를 위한 개발 구현 완료

안녕하세요. 개발팀 입니다!

이번 크리스마스 프로모션 이벤트 기획안 잘 확인했습니다!
12월 뿐만 아니라 1월달에도 이벤트가 진행될 수 있다는 점을 감안해 프로젝트가 진행되었다는 점을 인지해주세요.
1주일간 테스트 해보시고 '12월 이벤트 플래너' 개발 회의에서 뵙겠습니다!

## 🎯 기능 구현 목록

### 프로그램 초기 설정 기능

- [x] 제공된 식당 메뉴 정보를 저장한다.

```
<애피타이저>
양송이수프(6,000), 타파스(5,500), 시저샐러드(8,000)

<메인>
티본스테이크(55,000), 바비큐립(54,000), 해산물파스타(35,000), 크리스마스파스타(25,000)

<디저트>
초코케이크(15,000), 아이스크림(5,000)

<음료>
제로콜라(3,000), 레드와인(60,000), 샴페인(25,000)
```

- [x] 제공된 이벤트 정보를 저장한다.

```
    크리스마스 디데이 할인
      이벤트 기간: 2023.12.1 ~ 2023.12.25
      1,000원으로 시작하여 크리스마스가 다가올수록 날마다 할인 금액이 100원씩 증가
      총주문 금액에서 해당 금액만큼 할인
    평일 할인(일요일~목요일): 평일에는 디저트 메뉴를 메뉴 1개당 2,023원 할인
    주말 할인(금요일, 토요일): 주말에는 메인 메뉴를 메뉴 1개당 2,023원 할인
    특별 할인: 이벤트 달력에 별이 있으면 총주문 금액에서 1,000원 할인
    증정 이벤트: 할인 전 총주문 금액이 12만 원 이상일 때, 샴페인 1개 증정
    이벤트 기간: '크리스마스 디데이 할인'을 제외한 다른 이벤트는 2023.12.1 ~ 2023.12.31 동안 적용
```

- [x] 제공된`12월 요일 정보를` 저장한다.
    - [x] `모든 일요일`은 별 을 가지고 있다.
    - [x] `크리스마스(12월 25일)`은 별을 가지고 있다.
      ![](../image.png)

### 프로그램 흐름 기능

- [x] 날짜를 요청받아 캘린더에 저장된 날짜 정보를 조회한다.
- [x] 주문 정보를 요청 받아 메뉴를 조회해 주문 정보를 생성한다.
- [x] 적용 가능한 이벤트를 모두 찾는다.
- [x] 고객 정보를 생성한다.
- [x] 주문 정보와 고객 정보를 기반으로 플래너에 들어갈 정보를 보여준다.
- [x] 고객 정보를 생성해 저장한다.

### 입력 기능

- [x] `12월 중 식당 예상 방문 날짜는 언제인가요? (숫자만 입력해 주세요!)` 문구와 함께 방문 날짜를 입력 받는다.
  - [x] 입력한 방문 날짜가 범위를 벗어나면 예외를 발생한다. : `방문날짜 범위 1~31`
  - [x] 입력한 방문 날짜가 숫자가 아닌 경우 예외를 발생한다.
- [x] `주문하실 메뉴를 메뉴와 개수를 알려 주세요. (e.g. 해산물파스타-2,레드와인-1,초코케이크-1)` 문구와 함께 주문 메뉴와 갯수를 입력 받는다.
  - [x] 메뉴 형식을 벗어날 경우 예외를 발생한다. : `메뉴 형식 : 해산물파스타-2`
  - [x] 메뉴 갯수가 1이상의 숫자가 아닌 경우 예외를 발생한다.

### 출력 기능

- [x] `안녕하세요! 우테코 식당 12월 이벤트 플래너입니다.` 문구를 출력한다.
- [x] `12월 {선택날짜}일에 우테코 식당에서 받을 이벤트 혜택 미리 보기!` 문구를 출력한다.
- [x] `<주문 메뉴>` 문구와 함께 메뉴 이름과 갯수를 출력한다.
  - [x] 주문 메뉴의 출력 순서는 자유롭게 출력한다.
- [x] `<할인 전 총주문 금액>` 문구와 함께 할인전 총 주문 금액을 출력한다.
- [x] `<증정 메뉴>` 문구와 함께 메뉴 이름과 갯수를 출력한다.
  - [x] 증정 받은 메뉴가 없을 경우 `없음` 을 출력한다.
- [x] `<혜택 내역>` 문구와 함께 혜택 정보와 금액을 출력한다.
  - [x] 적용된 혜택이 없을 경우 `없음` 을 출력한다.
- [x] `<총혜택 금액>` 문구와 함께 총 혜택 금액을 출력한다.
- [x] `<할인 후 예상 결제 금액>` 문구와 함께 할인이 적용된 결제 금액을 출력한다.
- [x] `<12월 이벤트 배지>` 문구와 함께 발급된 배지를 출력한다.
  - [x] 발금된 배지가 없으면 `없음` 을 출력헌다.

### 에러 발생 기능
- [x] 모든 에러 메시지는 `[ERROR]`로 시작한다.
- [x] 주문과 관련된 에러 메시지는 `[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요.` 이다.
- [x] 방문날짜와 관련된 에러 메시지는 `[ERROR] 유효하지 않은 날짜입니다. 다시 입력해 주세요.` 이다.
- [x] 에러가 발생된 지점부터 재입력을 받는다.

### 메뉴 저장소 기능

- [x] 메뉴 이름으로 저장된 메뉴 정보를 찾는다.
  - [x] 존재하지 않는 메뉴이름일 경우 예외를 발생한다.

### 이벤트 저장소 기능

- [x] 주문정보와 선택한 날짜로 적용 가능한 이벤트를 찾는다.

### 캘린더 저장소 기능

- [x] 선택한 날짜를 기반으로 캘린더에 저장된 날짜 정보를 찾는다.

### 고객 저장소 기능

- [x] 고객 정보를 저장한다.(1월달 새해 이벤트 사용에 사용)

### 메뉴 기능

- [x] 메뉴를 생성한다.
    - [x] `메뉴이름, 메뉴가격, 메뉴종류` 를 갖는다.
- [x] 전달받은 메뉴 이름과 같은지 판별한다.

### 주문 기능

- [x] 주문을 생성한다.
    - [x] 각각의 메뉴별 갯수를 갖는다.
    - [x] 주문 메뉴 갯수 범위가 `1~20`개를 벗어날 경우 예외를 발생한다.
    - [x] 주문 메뉴가 모두 `음료수`일 경우 예외를 발생한다.
    - [x] 중복되는 주문 메뉴가 있을 경우 예외를 발생한다.
- [x] 이벤트 적용이 가능한 주문인지 확인한다.
    - [x] `총 주문금액이 10,000`원 보다 작은 경우 이벤트 적용이 불가능하다.
- [x] 총 주문 금액을 계산한다.

### 캘린더 날짜 기능

- [x] 캘린더 날짜 정보를 생성한다.
    - [x] `날짜, 요일, 별 유무` 를 갖는다.
- [x] 전달받은 날짜와 같은 날짜인지 비교한다.

### 플래너 기능

- [x] 플래너 정보를 생성한다.
    - [x] `적용된 이벤트, 주문 정보, 예약 날짜` 를 갖는다.
- [x] 발급 가능한 배지를 찾는다.
- [x] 할인 전 총 주문 금액을 계산한다.
- [x] 적용된 이벤트들의 모든 혜택을 찾는다.
- [x] 적용된 증정 상품을 찾는다.
- [x] 총 혜택 금액을 계산한다.
    - [x] 증정 받은 상품의 가격도 포함한다.
- [x] 할인이 적용된 최종 결제 금액을 계산한다.

### 고객 기능

- [x] 고객 정보를 생성한다.
  - [x] 여러개의 `플래너` 를 갖는다.
- [ ] 발급받은 배지 개수를 확인한다.

### 이벤트 기능

- [x] 이벤트를 생성한다.
    - [x] `이벤트 이름, 이벤트 기간, 이벤트 상태를 관리할 구현체` 를 갖는다.
- [x] 적용 가능한 이벤트인지 확인한다.
  - [x] 이벤트 기간안에 속해있어야 한다.
  - [x] 이벤트 구현체의 적용 가능 여부를 통과해야 한다.
- [x] 이벤트를 적용할 수 없는 주문일 경우 이벤트를 찾지 않는다.

### 이벤트 구현체 기능

#### 크리스마스 디데이 할인 이벤트

- [x] 이벤트 기간 : `2023.12.1 ~ 2023.12.25`
- [x] 이벤트 적용 가능 여부 : `방문 닐짜기 2023.12.1 ~ 2023.12.25 에 속해 있으면 적용된다.`
- [x] 보상 : `할인 시작 금액은 1000원 으로 시작해 하루가 지날때 마다 100원씩 할인 금액이 증가한다.`
- [x] 이벤트 타입 : `할인 이벤트`

#### 평일 할인 이벤트

- [x] 이벤트 기간 : `2023.12.1 ~ 2023.12.31`
- [x] 이벤트 적용 가능 여부 : `방문 날짜가 평일(일요일~목요일) 에 속해 있으면 적용된다.`
- [x] 보상 : `디저트 메뉴 하나당 2023원을 할인 한다.`
- [x] 이벤트 타입 : `할인 이벤트`

#### 주말 할인 이벤트

- [x] 이벤트 기간 : `2023.12.1 ~ 2023.12.31`
- [x] 이벤트 적용 가능 여부 : `방문 날짜가 주말(금요일, 토요일) 에 속해 있으면 적용된다.`
- [x] 보상 : `메인 메뉴 하나당 2023원을 할인 한다.`
- [x] 이벤트 타입 : `할인 이벤트`

#### 특별 할인 이벤트

- [x] 이벤트 기간 : `2023.12.1 ~ 2023.12.31`
- [x] 이벤트 적용 가능 여부 : `이벤트 달력에 별이 있으면 적용된다.`
- [x] 보상 : `총 주문 금액에서 1,000 원 할인`
- [x] 이벤트 타입 : `할인 이벤트`

#### 증정 이벤트

- [x] 이벤트 기간 : `2023.12.1 ~ 2023.12.31`
- [x] 이벤트 적용 가능 여부 : `총 주문 금액이 12만원 이상이면 적용된다.`
- [x] 보상 : `샴페인 1병`
- [x] 이벤트 타입 : `증정 이벤트`

